version: 2
jobs:
    build:
        docker:
          - image: circleci/node:10.15.1
        steps:
          - checkout
          - run:
                name: "Npm update"
                command: sudo npm install -g npm@latest
          - run:
                name: "Npm version"
                command: npm --version
          - run:
                name: "Yarn update"
                command: sudo npm install --global yarn
          - run:
                name: "Yarn version"
                command: yarn --version
          - restore_cache:
                name: Restore Yarn Package Cache
                keys:
                  - yarn-packages-{{ checksum "yarn.lock" }}
          - run:
                name: Install Dependencies
                command: yarn install --frozen-lockfile
          - save_cache:
                name: Save Yarn Package Cache
                key: yarn-packages-{{ checksum "yarn.lock" }}
                paths:
                  - ~/.cache/yarn

workflows:
  version: 2
  build_and_test:
    jobs:
      - build
